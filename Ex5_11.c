/***************************************************************************************
 Implemente a função descrita nas questões a seguir, seguindo as especificações. No mesmo
 exercício, construa a função main() que utilize ou teste a função desenvolvida.

 5. void ordena(int *dados, int tam, char ordem);
 Função : Ordena em ordem crescente os valores apontados por dados
 Parametros :
 dados – ponteiro para vetor a ser ordenado
 tamanho – numero de itens de dados
 ordem – ‘c’ para ordenamento crescente, ‘d’ para ordenamento decrescente.
 Case insensitive – não importa se é maiuscula ou minuscula
 Padrão é ordenamento crescente.
 DICA : Utilize um algoritmo de ordenação conhecido, como o bubble sort ou o quick-sort
 ***************************************************************************************/

 #include<stdio.h>
 #include<stdlib.h>
 #include<locale.h>
 #include<time.h>

 #define VAR 20

 //!para ordenação foi usado o algoritmo BUBBLE SORT

 void ordena (int *dados, int tam, char ordem)
 {
   int i, aux=1, troca;

   if(ordem !='D') //Entra no padrão, que é crescente
   {
      while (aux==1)
     {
        aux=0; //se o programa não cair em nenhum IF, o vetor está ordenado, portanto pode sair do laço

        for(i=0; i<(tam-1); i++)
        {
           if( (*(dados+i)) > (*(dados+i+1)))//compara o valor atual do vetor com o próximo
            {
               aux=1;

               //troca os valor atual pelo próximo
               troca = *(dados+i);
               *(dados+i) = *(dados+i+1);
               *(dados+i+1)=troca;
            } //end if
        } //end for
     } //end while
   } //end if

    if (ordem=='D')
   {
      while (aux==1)
     {
        aux=0; //se o programa não cair em nenhum IF, o vetor está ordenado, portanto pode sair do laço

        for(i=0; i<(tam-1); i++)
        {
           if( (*(dados+i)) < (*(dados+i+1)))//compara o valor atual do vetor com o próximo
            {
               aux=1;

               //troca os valor atual pelo próximo
               troca = *(dados+i);
               *(dados+i) = *(dados+i+1);
               *(dados+i+1)=troca;
            } //end if
        } //end for
     } //end while
   } //end else if
 } //end funcao

 int main ()
{
   setlocale(LC_ALL,"");

   int i;
   int vetor[VAR];
   char opcao;

   //declarando e apontando o ponteiro
   int *pvetor=vetor;

   //preenchendo o vetor com números aleatórios e exibindo
   srand(time(NULL));

   for(i=0; i<VAR; i++)
    vetor[i]=rand()%1000;

   printf("vetor preenchido com números aleatórios: \n");

   for(i=0; i<VAR; i++)
    printf("%d ", vetor[i]);

   //escolhendo se o ordenmaneto sera crescente ou decrescente
   printf("\n\nComo você deseja ordenar este vetor? Digite C para crescente e D para decrescente.\nOpção escolhida: ");
   opcao=getchar();

   //transformando o caratere digitado em maiusculo, caso ele seja minusculo
   if (opcao>'Z')
     opcao-=('a'-'A');

   //testando a funççao e exibindo os resultados
   ordena(pvetor,VAR,opcao);

   printf("\nvetor ordenado: \n");

   for(i=0; i<VAR; i++)
    printf("%d ", vetor[i]);

   printf("\n\n");
   system("pause");
 }
